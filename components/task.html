<div id="task-template">
  <div class="task-item">
    <div>{{ name }}</div>
    <div>{{{ html_description }}}</div>
  </div>
</div>

<script>
class Task {
  constructor(cfg={}) {
    this.data = Object.assign({
      day: 'today',
      name: 'default name',
      description: '[bruh](https://example.com)',
      subtasks: [],
      color: false,
      completed: false,
    }, cfg);
    for (let key of Object.keys(this.data)) {
      Object.defineProperty(this, key, {
        get() {
          return this.data[key];
        },
        set(value) {
          this.data[key] = value;
          TaskList.update(this);
        }
      })
    }
  }
  render() {
    return Mustache.render(document.querySelector('#task-template').innerHTML, {
      ...this.data,
      html_description: marked(this.data.description),
    });
  }

}
</script>

<style lang="scss">
  .task-item {
    background-color: red;
    &:hover {
      background-color: blue;
    }
  }
</style>
